<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>gulpを使用したテストサイト</title>

    <!-- css読み込み -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- fontawsome読み込み -->
    <link
      href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
      rel="stylesheet"
    />

    <!-- vuejs読み込み -->
    <script src="js/vue.js"></script>

    <!-- animejs読み込み-->
    <script src="js/anime.min.js"></script>
  </head>

  <body>
    <div id="wrapper">
      <header class="b-header">
        <div class="b-header__e-inner">
          <div class="b-header__e-logo">
            <h1 class="main_title">会社ロゴ</h1>
            <p class="sub_text">集客できるホームページ制作</p>
          </div>
          <nav class="b-header__e-nav">
            <ul class="g_nav">
              <li>
                <a href="#">
                  <span class="main_title">会社概要</span>
                  <span class="sub_title">About</span>
                </a>
              </li>
              <li>
                <a href="#" v-on:mouseover="active" v-on:mouseleave="no_active">
                  <span class="main_title">サービス</span>
                  <span class="sub_title">Services</span>
                  <!-- サービスのメガメニュー -->
                  <div v-show="show" class="b-sub_menu">
                    表示内容
                  </div>
                </a>
              </li>
              <li>
                <a href="#">
                  <span class="main_title">制作の流れ</span>
                  <span class="sub_title">Flow</span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span class="main_title">実績</span>
                  <span class="sub_title">Works</span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span class="main_title">会社案内</span>
                  <span class="sub_title">Guide</span>
                </a>
              </li>
            </ul>
          </nav>
          <div class="b-header__e-tell">
            <a href="tel:000-000"
              ><i class="fas fa-phone"></i
              ><span class="number">000-000</span></a
            >
          </div>
        </div>
        <div class="b-header__e-email">
          <p><i class="fas fa-envelope-open"></i></p>
          <p>お問い合わせ</p>
        </div>
      </header>

      <section class="b-main_slider">
        <div class="e-inner">
          <div class="e-main_catch">
            <span class="sub_title"
              >Grow Your Business With Website Optimization.</span
            >
            <h2 class="main_title">ビジネスを成長させる<br />ウェブ制作会社</h2>
            <p class="text">
              顧客との重要な接点であるウェブサイトを最大限に活用できていますか？<br />
              <em>マーケティング戦略のあるウェブ制作</em
              >で、クライアントのビジネスを総合的に支援します。
            </p>

            <div class="link_button">
              <a>ご相談フォームへ</a>
            </div>
          </div>
        </div>
      </section>

      <section class="b-sect1">
        <div class="b-sect1__e-inner">
          <div class="b-sect1__e-text_box">
            <h2 class="title01">
              「選ばれ続ける」 これが品質です。
            </h2>
            <p class="e-text">
              「エムハンドに頼んでよかった」その言葉が私たちの働くモチベーションです。<br />
              最初の依頼から9割のお客様と、長いお付き合いが続いています。
            </p>
          </div>
        </div>
      </section>

      <section class="b-sect2">
        <div class="b-sect2__e-inner">
          <div class="b-sect2__e-title">
            <h2 class="title01">
              サービス
            </h2>
            <span class="sub_title01">Service</span>
            <p class="text">戦略から作成、運用まで一貫サポートします。</p>
          </div>
          <div class="b-sect2__e-services_box">
            <a class="item" href="#">
              <div class="icon">
                <img src="../img/icon1.svg" alt="アイコン" />
              </div>
              <h3 class="title">
                ウェブ戦略
                <span>Web Strategy</span>
              </h3>
              <p>
                マーケティングフレームワークを活用し、現状分析・戦略設計・ゴール設計などを行います。
              </p>
            </a>
            <a class="item" href="#">
              <div class="icon">
                <img src="../img/icon2.svg" alt="アイコン" />
              </div>
              <h3 class="title">
                ウェブ制作
                <span>Design & Development</span>
              </h3>
              <p>
                ユーザビリティの高いデザイン設計とモダンな開発技術による高速なウェブ制作を行います。
              </p>
            </a>
            <a class="item" href="#">
              <div class="icon">
                <img src="../img/icon3.svg" alt="アイコン" />
              </div>
              <h3 class="title">
                改善運用
                <span>Optimization</span>
              </h3>
              <p>
                SEO対策、LPやフォームの最適化、ウェブ広告運用、アクセス解析、セキュリティ対策などウェブサイトの最適化を行います。
              </p>
            </a>
          </div>
        </div>
      </section>

      <section class="b-sect3" @mouseenter.once="countUp">
        <div class="b-sect3__e-inner">
          <div class="b-sect3__e-title">
            <h2 class="title01">
              実績紹介
            </h2>
            <span class="sub_title01">Works</span>
            <p class="text">多種多様な業種の制作実績があります。</p>
          </div>
          <div class="b-sect3__e-count_area">
            <p>制作・運用実績</p>
            <p><span id="elem2"></span>件以上</p>
          </div>
        </div>
      </section>

      <!-- TOPへ戻るボタン -->
      <v-move-to-top></v-move-to-top>
    </div>

    <script>
      //TOPへ戻るボタンのコンポーネント
      Vue.component("v-move-to-top", {
        data() {
          return {
            show: false
          };
        },
        template:
          '<transition name="fade">' +
          '<button type="button" v-if="show" @click="moveToTop" class="top_button">TOP</button>' +
          "</transition>",
        methods: {
          moveToTop: function() {
            const duration = 200; // 移動速度（1秒で終了）
            const interval = 25; // 0.025秒ごとに移動
            const step = -window.scrollY / Math.ceil(duration / interval); // 1回に移動する距離
            const timer = setInterval(() => {
              window.scrollBy(0, step); // スクロール位置を移動

              if (window.scrollY <= 0) {
                clearInterval(timer);
              }
            }, interval);
          }
        },
        mounted() {
          // スクロールして一定まで行った時にTOPボタンの表示
          window.addEventListener("scroll", () => {
            this.show = window.scrollY > 200;
          });
        }
      });

      new Vue({
        el: "#wrapper",
        data: {
          show: false
        },
        methods: {
          active: function() {
            this.show = true;
          },
          no_active: function() {
            this.show = false;
          },
          countUp: function() {
            anime({
              targets: elem2,
              innerHTML: [0, 200],
              easing: "linear",
              duration: 3000,
              round: 1
            });
          }
        }
      });
    </script>
  </body>
</html>
